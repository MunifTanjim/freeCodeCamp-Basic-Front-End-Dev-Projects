!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=5)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(4),o=r(a),s=function(){function t(e){i(this,t),this.maxSteps=e,this.state=new o.default(this.maxSteps),this.ui={}}return u(t,[{key:"bindUI",value:function(t){this.ui=t}},{key:"playSequence",value:function(){var t=this,e=this.state,n=this.ui,r=e.seqs,i=r[e.currSeq][e.stepToPlay];this.tap(n.tapButtons[i]),e.stepToPlay===e.currSeq?setTimeout(function(){e.stepToPlay=0,e.playerTurn=!0},250):(e.stepToPlay++,setTimeout(function(){t.playSequence()},500))}},{key:"processPlayerTap",value:function(t){var e=this,n=this.state,r=this.ui;t===n.seqs[n.currSeq][n.stepToTap]?n.stepToTap===n.currSeq?(n.playerTurn=!1,n.stepToTap=0,n.currSeq++,n.maxSteps===n.currSeq?(n.won=!0,r.update(n,function(){return e.togglePower()})):(r.update(n),setTimeout(function(){return e.playSequence()},750))):n.stepToTap++:n.strictMode?(n.penalty=!0,r.update(n,function(){return e.togglePower()})):(n.playerTurn=!1,n.stepToTap=0,r.warn(n),setTimeout(function(){return e.playSequence()},750))}},{key:"togglePower",value:function(){var t=this,e=this.state,n=this.ui;n.setPowerButton(!e.isRunning),e.isRunning?(this.state=new o.default(this.maxSteps),n.clearDisplay(),n.setStrictButton(this.state.strictMode)):(e.isRunning=!0,e.playerTurn=!1,n.update(e,function(){setTimeout(function(){return t.playSequence()},750)}))}},{key:"toggleStrict",value:function(){var t=this.state;this.ui.setStrictButton(!t.strictMode),t.strictMode=!t.strictMode}},{key:"tap",value:function(t){var e=parseInt(t.dataset.index);this.ui.tapButton(e),this.state.playerTurn&&this.processPlayerTap(e)}}]),t}();t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=this;o(this.display,"**");var n=0,r=setInterval(function(){n<8?(n++,e.tapButton(n%4)):(t(),clearInterval(r))},250)}function u(t){var e=this;o(this.display,"!!");var n=0,r=setInterval(function(){if(n<2){n++;for(var i=0;i<4;i++)e.tapButton(i)}else t(),clearInterval(r)},500)}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){t.innerHTML=e},s=["#0F0","#F00","#00F","#FF0"],c=function(t,e){t.classList.add("changing"),t.style.color=s[e],setTimeout(function(){t.classList.remove("changing"),t.style.color=""},200)},l=function(){function t(e,n,i,u,a){r(this,t),this.audios=e,this.display=n,this.tapButtons=a,this.powerButton=i,this.strictButton=u}return a(t,[{key:"clearDisplay",value:function(){o(this.display,"")}},{key:"setPowerButton",value:function(t){t?this.powerButton.classList.add("active"):this.powerButton.classList.remove("active")}},{key:"setStrictButton",value:function(t){t?this.strictButton.classList.add("active"):this.strictButton.classList.remove("active")}},{key:"tapButton",value:function(t){var e=this.audios[t];e.currentTime=0,e.play();var n=this.tapButtons[t];n.classList.add("active"),c(this.display,t),setTimeout(function(){return n.classList.remove("active")},250)}},{key:"warn",value:function(t){var e=this;o(this.display,"--"),setTimeout(function(){return e.update(t)},250)}},{key:"update",value:function(t,e){if(t.won)i.call(this,e);else if(t.penalty)u.call(this,e);else{var n=String(t.currSeq+1);n.length<2&&(n="0"+n),o(this.display,n),e&&e()}}}]),t}();t.exports=l},function(t,e,n){"use strict";function r(t){function e(){document.removeEventListener("DOMContentLoaded",e,!1),window.removeEventListener("load",e,!1),t()}"complete"===document.readyState?setTimeout(t):(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r,t.exports=e.default},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var u=function(t,e){for(var n=0;n<e;n++)t[n]=n?[].concat(i(t[n-1])):[],t[n].push(Math.floor(4*Math.random()))},a=function t(e){r(this,t),this.isRunning=!1,this.strictMode=!1,this.won=!1,this.penalty=!1,this.maxSteps=e,this.playerTurn=!0,this.seqs=[],u(this.seqs,this.maxSteps),this.stepToPlay=0,this.currSeq=0,this.stepToTap=0};t.exports=a},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n(3);var i=n(2),u=r(i),a=n(0),o=r(a),s=n(1),c=r(s),l=20,f=new o.default(l);(0,u.default)(function(){var t=document.querySelectorAll(".tap"),e=document.querySelector("button#power"),n=document.querySelector("button#strict"),r=document.querySelector(".counter span"),i=document.querySelectorAll("audio"),u=new c.default(i,r,e,n,t);f.bindUI(u),t.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),f.state.isRunning&&f.state.playerTurn&&f.tap(t)})}),e.addEventListener("click",function(t){t.preventDefault(),f.state.playerTurn&&f.togglePower()}),n.addEventListener("click",function(t){t.preventDefault(),f.state.playerTurn&&f.toggleStrict()})})}]);